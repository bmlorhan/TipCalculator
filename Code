###     Simple Tip Calculator       ###
'''
Notes:

simple tip calculator
use -
user enters bill amount and receives a tip amount based on tip percentage

problems:
No option does not determine a new tip amount after rerating the server. -  CONQUERED!

'''
import sys


def Payment(tipCalculated):                                                                                             #The main function
    if tipCalculated == False:                                                                                          #Check to see if the tip has been calculated using var tipCalculated
        billAmount = input("What is your bill? ")                                                                       #asks for the bill amount
        rating = input("How would you rate your server 1 to 5? ")                                                       #asks for a rating, later used to determine the tipPercent

        Tip(rating)                                                                                                     #runs the Tip function using the entered rating
        tipPercent = Tip(rating)                                                                                        #the function returns a tipPercent

        while tipCalculated == False:                                                                                   #as long as tipCalculated is False
            tipOK = str(input("You will tip " + str(int(float(tipPercent * 100))) + "%. Is that okay? "))               #Asks for confirmation that the tip is okay.
            if tipOK == str("yes") or tipOK == str("y"):                                                                #If yes, runs the Calculator function using the entered values and produces the tip + total bill
                Calculator(billAmount,tipPercent)
                tipCalculated = True                                                                                    #Returns tipCalculated as True, ending the application.
            if tipOK == str("no") or  tipOK == str("n"):                                                                #If no, user will be asked to re-rate their server
                rating = input("How would you rate your server 1 to 5? ")                                               #This will continue until the user is satsified with the tip and accepts, enters Yes
                Tip(rating)
                tipPercent = Tip(rating)
                tipCalculated = False
    return tipCalculated


def Calculator(billAmount, tipPercent):                                                                                 #Calculator figuring out the tip amount
                                                                                                                        #and the informing how much the tip is
    tipAmount = float(billAmount) * float(tipPercent)                                                                   #and what the overall total is.
    
    total = float(billAmount) + float(tipAmount)
    print("Please add ${0}".format(tipAmount) + " for a total of ${0}".format(total))

    tipCalculated = True
    return tipCalculated



def Tip(rating):                                                                                                        #This is rating. Rating is translated into a
    tipPercent = float(0)                                                                                               #tipPercent that is used to calculate the
                                                                                                                        #over all tip amount.
    if rating == "1":
        tipPercent = round(float(10), 2) * float(0.01)
    if rating == "2":
        tipPercent = round(float(13), 2) * float(0.01)
    if rating == "3":
        tipPercent = round(float(15), 2) * float(0.01)
    if rating == "4":
        tipPercent = round(float(16), 2) * float(0.01)
    if rating == "5":
        tipPercent = round(float(19), 2) * float(0.01)
    return tipPercent

###========================================================================###

tipCalculated = False                                                                                                   #Creates var tipCalculated and sets to False
while tipCalculated == False:                                                                                           #Whenever tipCalculated is False
    Payment(tipCalculated)                                                                                              #Run Payment function, checking for tipCalculated to be False
    if tipCalculated == True:                                                                                           #Checks for tipCalculated to be True
        print("Thank you.")                                                                                             #Prints a goodbye message
        break                                                                                                           #ends the loop and program
    else:                                                                                                               #if anything else
        break                                                                                                           #
